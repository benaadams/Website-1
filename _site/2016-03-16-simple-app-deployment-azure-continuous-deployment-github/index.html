<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Exceptionless Exception and Event Reporting in real-time</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <meta name="description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <link rel="canonical" href="https://exceptionless.com/">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Exceptionless Exception and Event Reporting in real-time">
    <meta property="og:description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta property="og:url" content="https://exceptionless.com/">
    <meta property="og:site_name" content="Exceptionless">
    <meta property="article:modified_time" content="2017-04-07T18:29:45+00:00">
    <meta property="og:image" content="http://exceptionless.com/assets/codesmith-client-logo-bar-left.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@exceptionless">
    <meta name="twitter:site" content="@exceptionless">
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script async="" src="//www.googletagmanager.com/gtm.js?id=GTM-PV8Q8J"></script>
    <script src="https://connect.facebook.net/signals/config/722987251177335?v=2.9.27&amp;r=stable" async=""></script>
    <script async="" src="https://connect.facebook.net/en_US/fbevents.js"></script>
    <script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://exceptionless.com/#website","url":"https://exceptionless.com/","name":"Exceptionless","description":"","potentialAction":[{"@type":"SearchAction","target":"https://exceptionless.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://exceptionless.com/#primaryimage","inLanguage":"en-US","url":"http://exceptionless.com/assets/codesmith-client-logo-bar-left.png"},{"@type":"WebPage","@id":"https://exceptionless.com/#webpage","url":"https://exceptionless.com/","name":"Exceptionless Exception and Event Reporting in real-time","isPartOf":{"@id":"https://exceptionless.com/#website"},"primaryImageOfPage":{"@id":"https://exceptionless.com/#primaryimage"},"datePublished":"2013-09-27T02:37:44+00:00","dateModified":"2017-04-07T18:29:45+00:00","description":"Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://exceptionless.com/"]}]}]}</script>

    <link rel="dns-prefetch" href="//secure.gravatar.com">
    <link rel="dns-prefetch" href="//ajax.googleapis.com">
    <link rel="stylesheet" href="/plugins/cyclone-slider-pro/templates/standard/style.css">
    <link rel="stylesheet" href="/assets/css/theme.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    <link rel="stylesheet" href="/plugins/wp-gdpr-compliance/assets/css/front.min.css">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" id="jquery-js"></script>
    <script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script type="text/javascript" src="/assets/js/main.js" id="shoestrap_main-js"></script>
    <style type="text/css" id="custom-background-css">
    body.custom-background { background-image: url("/assets/body-bg2.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: fixed; }
    </style>
    <style type="text/css" media="screen">
        html { margin-top: 32px !important; }
        * html body { margin-top: 32px !important; }
        @media screen and ( max-width: 782px ) {
            html { margin-top: 46px !important; }
            * html body { margin-top: 46px !important; }
        }
    </style>

    <link rel="stylesheet" type="text/css" id="wp-custom-css" href="https://exceptionless.com/?custom-css=5156a6226b">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:&amp;subset=" rel="stylesheet" type="text/css">
    <style>a, a.active, a:hover, a.hover, a.visited, a:visited, a.link, a:link{ color: #0088cc;}#wrap{ color: #333333; }</style>
    <style>body, input, button, select, textarea, .search-query {font-family: Open Sans;}</style>
    <style>.btn-primary, a.btn-primary{color: #ffffff;background-color: #598e0e;background-image: -moz-linear-gradient(top, #73a818, #346900); background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#73a818), to(#346900));background-image: -webkit-linear-gradient(top, #73a818, #346900);background-image: -o-linear-gradient(top, #73a818, #346900);background-image: linear-gradient(to bottom, #73a818, #346900);background-repeat: repeat-x;*background-color: #346900;}.btn-primary:hover, .btn-primary:active, .btn-primary.active, .btn-primary.disabled, .btn-primary[disabled] {color: #ffffff;background-color: #346900;*background-color: #285d00;}a.btn-success, a.btn-info, a.btn-warning, a.btn-error, a.btn-inverse{color: #fff;}</style><style>.navbar-inner, #main-subnav.subnav-fixed, .navbar-inner .dropdown-menu{background-color:#3d3d3d;background-image: -moz-linear-gradient(top, #3d3d3d, #333333) !important;background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#3d3d3d), to(#333333)) !important;background-image: -webkit-linear-gradient(top, #3d3d3d, #333333) !important;background-image: -o-linear-gradient(top, #3d3d3d, #333333) !important;background-image: linear-gradient(to bottom, #3d3d3d, #333333) !important;filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr="%d", endColorstr="%d", GradientType=0)",argb(#3d3d3d),argb(#333333))) !important;border: 1px solid #292929;}.navbar-inner .dropdown-menu{padding: 0;}.btn.btn-navbar{background: #656565;}.btn.btn-navbar:hover, .btn.btn-navbar:active, .btn.btn-navbar:enabled{background: #5b5b5b;}.navbar-inner a, .navbar-inner .brand, .navbar .nav > li > a{color: #a7a7a7;text-shadow: 0 1px 0 #2e2e2e;}.navbar-inner a:hover, .navbar-inner .brand:hover, .navbar .nav > li > a:hover{color: #bbbbbb;text-shadow: 0 1px 0 #2e2e2e;}.navbar .nav > .active > a, .navbar .nav > .active > a:hover, .navbar .nav > .active > a:focus{color: #ffffff;background-color: #5b5b5b;text-shadow: 0 1px 0 #2e2e2e;}</style><style>.navbar-inner ul.dropdown-menu{background-color:#3d3d3d;background-image: -moz-linear-gradient(top, #3d3d3d, #333333) !important;background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#3d3d3d), to(#333333)) !important;background-image: -webkit-linear-gradient(top, #3d3d3d, #333333) !important;background-image: -o-linear-gradient(top, #3d3d3d, #333333) !important;background-image: linear-gradient(to bottom, #3d3d3d, #333333) !important;filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr="%d", endColorstr="%d", GradientType=0)",argb(#3d3d3d),argb(#333333))) !important;border: 1px solid #292929;}.navbar .nav > li > .dropdown-menu::before{border-bottom: 7px solid #3d3d3d;}.navbar .nav > li > .dropdown-menu::after{border-bottom: 6px solid #3d3d3d;}.navbar-inner .dropdown-menu li > a, .navbar-inner .dropdown-menu li > a:hover, .navbar-inner .dropdown-menu li > a:focus, .navbar-inner .dropdown-submenu:hover > a{color: #a7a7a7;}.navbar .nav li.dropdown.open > .dropdown-toggle, .navbar .nav li.dropdown.active > .dropdown-toggle, .navbar .nav li.dropdown.open.active > .dropdown-toggle{color: #f1f1f1;background-color: #6f6f6f;text-shadow: 0 1px 0 #2e2e2e;}.navbar .nav li.dropdown > .dropdown-toggle .caret, .navbar .nav li.dropdown.open > .dropdown-toggle .caret, .navbar .nav li.dropdown.active > .dropdown-toggle .caret, .navbar .nav li.dropdown.open.active > .dropdown-toggle .caret{border-top-color: #dddddd;border-bottom-color: #dddddd;}.dropdown-menu .active > a, .dropdown-menu .active > a:hover{background: #a1a1a1;color: #333333 !important;color: #9d9d9d !important;}.dropdown-menu li > a:hover, .dropdown-menu li > a:focus, .dropdown-submenu:hover > a{background: #5b5b5b;}</style><style>.top-megamenu{background: #515151;}.top-megamenu, .top-megamenu a{color: #a7a7a7;}</style><style>.logo-wrapper{background: #0066bb;}.logo-wrapper .logo a{color: #ffffff;}</style><style>.top-navbar .jumbotron{margin-top: -20px;}.jumbotron{background: #f6f6f6 url("");color: #777777;}.jumbotron .btn{border: none;color: #ffffff;background-color: #004ca1;background-image: -moz-linear-gradient(top, #0066bb, #00277c);background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0066bb), to(#00277c));background-image: -webkit-linear-gradient(top, #0066bb, #00277c);background-image: -o-linear-gradient(top, #0066bb, #00277c);background-image: linear-gradient(to bottom, #0066bb, #00277c);background-repeat: repeat-x;*background-color: #00277c;}.jumbotron .btn:hover, .jumbotron .btn:active, .jumbotron .btn.active, .jumbotron .btn.disabled, .jumbotron .btn[disabled] {color: #ffffff;border: none;background-color: #00277c;*background-color: #001b70;}</style><style>#footer-wrapper{ background: #3d3d3d;}#footer-wrapper{ color: #999999;}#footer-wrapper a{ color: #999999;}</style><style type="text/css">.shareme .social_icon{color: #fff;}</style>

    <link rel="alternate" type="application/rss+xml" title="Exceptionless Feed" href="https://exceptionless.com/feed.xml">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,300,400,600" rel="stylesheet">
    <link rel="shortcut icon" href="/favicon.ico">	  <!-- Facebook Pixel Code -->	<script>	!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?	n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;	n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;	t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,	document,'script','https://connect.facebook.net/en_US/fbevents.js');	fbq('init', '722987251177335');	fbq('track', "PageView");</script>	<noscript><img height="1" width="1" style="display:none"	src="https://www.facebook.com/tr?id=722987251177335&ev=PageView&noscript=1"	/></noscript>	<!-- End Facebook Pixel Code -->
    <script charset="utf-8" src="https://platform.twitter.com/js/horizon_tweet.716ef7f4c155526f8ec8e60dbd2fbf56.js"></script>
    <style type="text/css">
    @font-face {
        font-weight: 400;
        font-style:  normal;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Regular.woff2') format('woff2');
    }
    @font-face {
        font-weight: 400;
        font-style:  italic;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Italic.woff2') format('woff2');
    }

    @font-face {
        font-weight: 500;
        font-style:  normal;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Medium.woff2') format('woff2');
    }
    @font-face {
        font-weight: 500;
        font-style:  italic;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-MediumItalic.woff2') format('woff2');
    }

    @font-face {
        font-weight: 700;
        font-style:  normal;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Bold.woff2') format('woff2');
    }
    @font-face {
        font-weight: 700;
        font-style:  italic;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BoldItalic.woff2') format('woff2');
    }

    @font-face {
        font-weight: 900;
        font-style:  normal;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Black.woff2') format('woff2');
    }
    @font-face {
        font-weight: 900;
        font-style:  italic;
        font-family: 'Inter-Loom';

        src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BlackItalic.woff2') format('woff2');
    }</style>
    <link rel="stylesheet" href="/assets/css/custom.css">
</head>

<body>
<header id="banner" class="topnavbar navbar navbar-fixed-top" role="banner">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="/">
                <img id="site-logo" src="/assets/img/exceptionless-logo1.png" alt="Exceptionless - .NET Exception Reporting">
            </a>
            <nav id="nav-main" class="nav-main nav-collapse collapse" role="navigation">
                <ul id="menu-primary-navigation" class="nav pull-right"><li class="menu-tour"><a href="/tour/">Tour</a></li>
                    <li class="menu-why"><a href="/why/">Why?</a></li>
                    <li class="menu-pricing"><a href="/pricing/">Pricing</a></li>
                    <li class="menu-news"><a href="/news/">News</a></li>
                    <li class="menu-help"><a href="https://github.com/exceptionless/Exceptionless/wiki">Help</a></li>
                    <li class="menu-contact"><a href="/contact/">Contact</a></li>
                    <li class="menu-log-in"><a href="https://be.exceptionless.io">Log In</a></li>
                    <li class="menu-sign-up"><a href="https://be.exceptionless.io/signup?domain=www.codesmithtools.com&amp;type=organic">Sign Up</a></li>
                </ul>      </nav>
        </div>
    </div>
    <div id="megaDrop" class="container-fluid top-megamenu"><div class="container"><div class="row"></div></div></div>
</header>

<div class="page-header margin-top">
    <div class="post-categories"><a href="/news/" rel="category tag">Back</a></div>
</div>

<div id="wrap" class="container" role="document">

    <div id="content" class="row-fluid">


        <div id="main" class="span12" role="main">
            <article class="post type-post status-publish format-standard hentry">
                <header>
                    <h1 class="entry-title">Simple App Deployment with Azure Continuous Deployment and GitHub</h1>
                </header>
                <div class="entry-content">
                    <p><img loading="lazy" class="alignright size-full wp-image-14224" src="http://exceptionless.com/assets/cloud-icon.png" alt="simple app deployment" width="260" height="260" data-id="14224" srcset="https://exceptionless.com/assets/cloud-icon.png 260w, https://exceptionless.com/assets/cloud-icon-150x150.png 150w" sizes="(max-width: 260px) 100vw, 260px" />We’ve learned a lot about simple app deployment since we first started Exceptionless. We initially went with what everyone else was doing (Octopus Deploy), but over time we thought we could greatly simplify and automate it, letting us focus on what matters, improving the product!</p>
<p>Through a lot of testing and iterations of our deployment process, we think we finally nailed it.</p>
<p>As such, we’d like to share with the community how we use Microsoft Azure Continuous Deployment and GitHub for **awesomely simple deployments. **And, how you can too. See the details of implementing this deploy workflow later in the article, below.<!--more--></p>
<h2>Exceptionless Deployment History</h2>
<h3>In the Beginning</h3>
<p>When we first started Exceptionless, we deployed it as a monolithic application, meaning the server and UI were one piece, or app. We used Octopus Deploy to deploy to a single IIS machine, which involved setting up a website and server for the Octopus Deploy service and configuring build agents, on each server we deployed to, that could deploy build artifacts.</p>
<h3>The Move to Azure</h3>
<p>After a year or so of managing Exceptionless on colocation boxes in a Dallas data center, we realized that <strong>we didn’t want to manage hardware anymore</strong> and we could scale easier on a managed service like Azure. So, we moved to Azure, where we had to set up a VM just to manage deployments with Octopus Deploy. There were also issues that we ran into with deploying to Azure WebSitThis was annoying, since every time we wanted to do a release we had to log in and tell the system to deploy to production.</p>
<p>We knew there had to be a better way.</p>
<h3>Two Steps Forward…</h3>
<p>Soon, we decided to split the UI and Server apps so we could deploy and work on them independently. This also meant they could scale independently and one change to either wouldn’t cause the whole site to go down when deploying. Splitting the two helped a lot, but it <strong>added more work</strong> as we now had to manage two Octopus Deploy projects. So, we started looking at the <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-publish-source-control/" target="_blank">Continuous Deployment in Azure</a>.</p>
<h3>Aha! Eureka! Solution Time!</h3>
<p>We researched further and found out that if we used <a href="https://github.com/nvie/gitflow" target="_blank">Git Flow</a> as a development workflow, we could ditch Octopus Deploy completely, remove that dependency, and just use Git push to manage our deployments.</p>
<p>With Git Flow, you do all your work in feature branches and the <strong>master branch is always stable</strong>. This allows us to set up GitHub deployment on the master and deploy to Azure automatically, with no work required! So anytime we push to the GitHub master branch, it automatically deploys to production on Azure. That simple!</p>
<h4>Here is the BASIC workflow:</h4>
<ol>
<li>We create a new feature branch, then work on that branch until it is completed and tested. Testing is done on the website that is currently pointed to the feature branch, which is separate from production.</li>
<li>When we commit to any branch, our continuous integration (CI) server picks up the changes via a GitHub webhook, pulls them down, then builds the project.</li>
<li>We then take all of the build artifacts and push them to a second GitHub repository using the same branch that the code was pushed to (for example, the master branch). This allows you to see exactly what artifacts change between releases (stateless too) and different branches.</li>
<li>Those changes are then automatically pushed via Azure Git Deploy.</li>
<li>Profit!</li>
</ol>
<p><strong>This is very slick!</strong> Since we push artifacts to the same branch they were built onto a build repository. We can then set up different environments that get auto deployed when we push to that branch. For example: When we are working on a feature, we commit to our branch. We can then set up a new website in Azure that pulls from the build server’s Git artifacts branch for that feature. This allows us to test and automate environments!</p>
<h2>Detailed Continuous Deployment Setup</h2>
<p>Here are the details on our solution for simple app deployment using GitHub and Azure.</p>
<h3>1. Use AppVeyor to build the app.</h3>
<p><a href="https://github.com/exceptionless/Exceptionless/blob/master/appveyor.yml" target="_blank">Here’s our code.</a></p>
<h3>2. Store build artifacts in a separate GitHub artifacts repository.</h3>
<p>This works really well because you can see the entire history of your build artifacts and browse their contents. Plus, GitHub hosts it for free!</p>
<p>We found that we could <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L71" target="_blank">format the commit message with a specific format</a> that GitHub could understand and parse into different links. We can click on the “Commit:” part of the message to link to the actual commit that is building to see exactly has changed.</p>
<p><a href="http://exceptionless.com/assets/github-build-history-artifacts.jpg" rel="attachment wp-att-14204"><img loading="lazy" class="aligncenter size-large wp-image-14204" src="http://exceptionless.com/assets/github-build-history-artifacts-1024x380.jpg" alt="github build history artifacts" width="940" height="349" data-id="14204" srcset="https://exceptionless.com/assets/github-build-history-artifacts-1024x380.jpg 1024w, https://exceptionless.com/assets/github-build-history-artifacts-300x111.jpg 300w, https://exceptionless.com/assets/github-build-history-artifacts-768x285.jpg 768w, https://exceptionless.com/assets/github-build-history-artifacts.jpg 1402w" sizes="(max-width: 940px) 100vw, 940px" /></a></p>
<p>We can then click on the build to see what artifacts changed.</p>
<p><a href="http://exceptionless.com/assets/gitHube-build-history-details.jpg" rel="attachment wp-att-14205"><img loading="lazy" class="aligncenter size-large wp-image-14205" src="http://exceptionless.com/assets/gitHube-build-history-details-1024x193.jpg" alt="gitHub build history details" width="940" height="177" data-id="14205" srcset="https://exceptionless.com/assets/gitHube-build-history-details-1024x193.jpg 1024w, https://exceptionless.com/assets/gitHube-build-history-details-300x57.jpg 300w, https://exceptionless.com/assets/gitHube-build-history-details-768x145.jpg 768w, https://exceptionless.com/assets/gitHube-build-history-details.jpg 1494w" sizes="(max-width: 940px) 100vw, 940px" /></a></p>
<p>Another great thing about using Git to store your artifacts is that you can easily clone the artifacts to your local machine to see the exact files that are being used in a specific environment.</p>
<p>The artifacts repository has branches to match the branches of our code repo so we have separate build artifacts for each branch. This also means that we can just merge the feature into master when we are done and that will cause the production website that is pointed to our master repository to automatically get updated. So, it’s as simple as merge your branch to master to promote a build to production.</p>
<p><a href="http://exceptionless.com/assets/merge-branch-master-promote-build-production.jpg" rel="attachment wp-att-14206"><img loading="lazy" class="aligncenter size-full wp-image-14206" src="http://exceptionless.com/assets/merge-branch-master-promote-build-production.jpg" alt="merge-branch-master promote build production" width="624" height="430" data-id="14206" srcset="https://exceptionless.com/assets/merge-branch-master-promote-build-production.jpg 624w, https://exceptionless.com/assets/merge-branch-master-promote-build-production-300x207.jpg 300w" sizes="(max-width: 624px) 100vw, 624px" /></a></p>
<p><strong>One issue</strong> with this approach is that the repo can get large because we are storing binary files that change on every build. We are looking into using <a href="https://git-lfs.github.com/">Git Large File Support</a> to fix this issue.</p>
<h3>3. Automate pushing of artifacts to a secondary GitHub repository.</h3>
<p>For our .NET application, <a href="https://github.com/exceptionless/Exceptionless" target="_blank">Exceptionless</a>, we invoke a <a href="https://github.com/exceptionless/Exceptionless/blob/master/appveyor.yml#L46-L47" target="_blank">PowerShell script</a> on post build to clone and commit the changes to the <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1" target="_blank">Git artifacts repository</a>.</p>
<ol>
<li>Our first step is to <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L10-L11" target="_blank">clone the existing build artifacts repo to an artifacts directory</a>.</li>
<li>Next, we <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L20-L28" target="_blank">change to the same branch that we are currently building, if it doesn’t exist we create it</a>.</li>
<li>Then, we <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L35-L36" target="_blank">remove all existing files in the artifacts folder</a>. This ensures we don’t have any conflicts and we can see exactly what was added or removed.</li>
<li>Next, we <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L38-L60" target="_blank">copy our build artifacts into the artifacts folder</a>. This allows us fine grained control over our artifacts.</li>
<li>Next, we <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L62-L67" target="_blank">try to commit all artifacts to the artifacts repository</a>. If there were no changes between the last build, then we exit.</li>
<li>Next, we <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L69-L78" target="_blank">push the artifacts to our GitHub artifacts repository</a>, which will then trigger Azure Continuous Deployment to pick up the changes.</li>
<li>Finally, we <a href="https://github.com/exceptionless/Exceptionless/blob/master/Libraries/Push-Artifacts.ps1#L80-L87" target="_blank">create tag the artifacts repository</a> which points to the specific GitHub commit we are building in our main repository.</li>
</ol>
<p><strong>For our static <a href="https://github.com/exceptionless/Exceptionless.UI" target="_blank">Angular JavaScript app (UI)</a>,</strong> we invoke a <a href="https://github.com/exceptionless/Exceptionless.UI/blob/master/src/Gruntfile.js#L51" target="_blank">Grunt publish task</a> from our <a href="https://github.com/exceptionless/Exceptionless.UI/blob/master/appveyor.yml#L20" target="_blank">post build event</a>. The publish task called into a <a href="https://github.com/tschaub/grunt-gh-pages" target="_blank">gh-pages</a> <a href="https://github.com/exceptionless/Exceptionless.UI/blob/master/src/grunt/task-configs/gh-pages.js" target="_blank">task</a> that publishes our built dist folder to the GitHub artifacts repository automatically.</p>
<h3>4. Point Azure Continuous Deployment to the Artifacts Repository</h3>
<p>It will see when new artifact commits happen and automatically deploy the changes.</p>
<p><a href="http://exceptionless.com/assets/azure-sees-new-artifact-commit-and-deploys.jpg" rel="attachment wp-att-14207"><img loading="lazy" class="aligncenter size-large wp-image-14207" src="http://exceptionless.com/assets/azure-sees-new-artifact-commit-and-deploys-1024x846.jpg" alt="azure sees new artifact commit and deploys" width="940" height="777" data-id="14207" srcset="https://exceptionless.com/assets/azure-sees-new-artifact-commit-and-deploys-1024x846.jpg 1024w, https://exceptionless.com/assets/azure-sees-new-artifact-commit-and-deploys-300x248.jpg 300w, https://exceptionless.com/assets/azure-sees-new-artifact-commit-and-deploys-768x635.jpg 768w, https://exceptionless.com/assets/azure-sees-new-artifact-commit-and-deploys.jpg 1118w" sizes="(max-width: 940px) 100vw, 940px" /></a></p>
<p>Azure Continuous Deployment is another Git repository that we can easily view to see the history of deployments to each of our sites. It also allows us to easily roll back to previous versions.</p>
<h3>5. Use Environment Variables to Override Config Settings Per Environment</h3>
<p>Azure Websites makes this very easy.</p>
<p><a href="http://exceptionless.com/assets/override-config-settings-environment-variables.jpg" rel="attachment wp-att-14208"><img loading="lazy" class="aligncenter size-large wp-image-14208" src="http://exceptionless.com/assets/override-config-settings-environment-variables-1024x497.jpg" alt="azure override config settings environment variables" width="940" height="456" data-id="14208" srcset="https://exceptionless.com/assets/override-config-settings-environment-variables-1024x497.jpg 1024w, https://exceptionless.com/assets/override-config-settings-environment-variables-300x146.jpg 300w, https://exceptionless.com/assets/override-config-settings-environment-variables-768x373.jpg 768w, https://exceptionless.com/assets/override-config-settings-environment-variables.jpg 1128w" sizes="(max-width: 940px) 100vw, 940px" /></a></p>
<p>No production settings are stored in source control or artifacts repository.</p>
<p>For our ASP.NET application, our <a href="https://github.com/exceptionless/Exceptionless/blob/master/Source/Core/Settings.cs" target="_blank">settings class</a> will look up named settings in the following order:</p>
<ol>
<li>environment variables</li>
<li>local config.json file</li>
<li>app settings</li>
</ol>
<p>It will then fall back to a <a href="https://github.com/exceptionless/Exceptionless/blob/master/Source/Core/Utility/SettingsBase.cs#L59" target="_blank">default value</a> if no explicit settings are found.</p>
<p><strong>Configuring our static Angular JavaScript app</strong> is a bit more work since it can’t look these settings up dynamically at runtime. So instead we add some code to our deployment process.</p>
<ul>
<li>Azure automatically runs a <a href="https://github.com/exceptionless/Exceptionless.UI/blob/master/deploy.sh" target="_blank">deploy.sh</a> file after getting the artifacts via git deploy. It’s sole job is to run a <a href="https://github.com/exceptionless/Exceptionless.UI/blob/master/src/app_data/jobs/triggered/config/run.js" target="_blank">node script</a> that rewrites our <a href="https://github.com/exceptionless/Exceptionless.UI/blob/master/src/app.config.js" target="_blank">app.config.js</a> settings with settings defined in environment variables.</li>
</ul>
<h2>Conclusion</h2>
<p>You can create multiple Azure websites (think environments) that use Continuous Deployment and point them to multiple artifact branches to support different environments!</p>
<p><strong>Pro Tip:</strong> We created a <a href="http://local-app.exceptionless.io">http://local-app.exceptionless.io</a> website for our spa website that’s pre-built and points to your localhost Exceptionless server. This allows us to do work on the server part without setting up or configuring a local instance of our spa app. Development made simple!</p>
<p>We won’t lie, it took some work to get here, but <strong>the good news is you can do this really easily too</strong>. Please feel free to steal our deployment scripts and modify them for your projects. And let us know if you have questions along the way!</p>

                </div>
            </article>
        </div>
    </div>
</div>
<div id="footer-wrapper">
    <footer id="content-info" class="container" role="contentinfo">
        <div class="row-fluid">
            <div class="span4"><section id="text-2" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"><h3><span class="slash">//</span> Quick Links</h3>
                <ul class="footer-links clearfix">
                    <li><a href="/">Home</a></li>
                    <li><a href="/tour/">Tour</a></li>
                    <li><a href="/why/">Why?</a></li>
                    <li><a href="/pricing/">Pricing</a></li>
                    <li><a href="/news/">News</a></li>
                    <li><a href="https://github.com/exceptionless/Exceptionless/wiki">Help</a></li>
                </ul>
                <ul class="footer-links clearfix">
                    <li><a href="/contact/">Contact</a></li>
                    <li><a href="https://github.com/exceptionless/Exceptionless" target="_blank" rel="noopener noreferrer">GitHub</a></li>
                    <li><a href="/about/">About Us</a></li>
                    <li><a href="http://exceptionless.uservoice.com">Feedback</a></li>
                    <li><a href="/terms/">Terms of Use</a></li>
                    <li><a href="/privacy/">Privacy Policy</a></li>
                </ul></div>
            </div></section></div>
            <div class="span4"><section id="text-3" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"><h3><span class="slash">//</span> Stay In Touch</h3>
                <p>There are real people behind Exceptionless, so if you have a question or suggestion (no matter how small) please get in touch with us:</p>

                <ul class="social-icons-container">
                    <li>
                        <a href="http://twitter.com/exceptionless" target="_blank" class="social-icon social-icon-twitter" rel="noopener noreferrer">Twitter</a>
                    </li>
                    <li>
                        <a href="http://plus.google.com/b/111513069275546127753/111513069275546127753/posts" target="_blank" class="social-icon social-icon-googleplus" rel="noopener noreferrer">Google +</a>
                    </li>
                    <li>
                        <a href="http://www.facebook.com/exceptionless" target="_blank" class="social-icon social-icon-facebook" rel="noopener noreferrer">Facebook</a>
                    </li>
                    <li>
                        <a href="https://github.com/exceptionless/Exceptionless" target="_blank" class="social-icon social-icon-github" rel="noopener noreferrer">GitHub</a>
                    </li>
                </ul></div>
            </div></section></div>
            <div class="span4"><section id="text-4" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"> <h3><span class="slash">//</span> Newsletter</h3>

                <div id="newsletter">
                    <p>Subscribe to our newsletter and stay up to date with the latest news!</p>
                    <!--<form action="http://app.exceptionless.com/home/newsletter" method="post">
                        <input type="email" name="emailAddress" placeholder="Your Email" required>
                        <br>
                        <button class="btn" onclick="subscribeToNewsletter(); return false;">Subscribe</button>
                    </form>-->
                </div></div>
            </div></section></div>
        </div>
    </footer>
    <div class="copyrightContainer">
        <p class="copyright">© 2020 Exceptionless</p>
    </div>
</div>
<script>
    window.intercomSettings = {
      app_id: "6c0d76e0bec950052459f5cb4b727a949aeabbe1"
    };
  </script>
  
  <script>
  // We pre-filled your app ID in the widget URL: 'https://widget.intercom.io/widget/6c0d76e0bec950052459f5cb4b727a949aeabbe1'
  (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/6c0d76e0bec950052459f5cb4b727a949aeabbe1';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
  </script>

<script
        src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
        crossorigin="anonymous"></script>
<script type="text/javascript" src="/cyclone-slider-pro/jquery.easing.1.3.js" id="jquery-easing-js"></script>
<script type="text/javascript" src="/cyclone-slider-pro/libs/cycle2/jquery.cycle2.min.js" id="jquery-cycle2-js"></script>
<script type="text/javascript" src="/cyclone-slider-pro/libs/cycle2/jquery.cycle2.swipe.min.js" id="jquery-cycle2-swipe-js"></script>
<script type="text/javascript" src="/cyclone-slider-pro/templates/standard/script.js" id="cyclone-template-script-standard-js"></script>
<script type="text/javascript" src="/cyclone-slider-pro/js/client.js" id="cyclone-client-js"></script>
<script type="text/javascript" id="wpgdprc.js-js-extra">
    /* <![CDATA[ */
    var wpgdprcData = {"ajaxURL":"https:\/\/exceptionless.com\/wp-admin\/admin-ajax.php","ajaxSecurity":"a1abf979ec","isMultisite":"","path":"\/","blogId":""};
    /* ]]> */
</script>
<script type="text/javascript" src="/wp-includes/js/underscore.min.js" id="underscore-js"></script>
<script type="text/javascript" src="/wp-includes/js/backbone.min.js" id="backbone-js"></script>
<script type="text/javascript" src="https://s1.wp.com/wp-content/js/mustache.js" id="mustache-js"></script>
</body>
</html>
