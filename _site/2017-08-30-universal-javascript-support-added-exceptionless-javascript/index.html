<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My Blog</title>
</head>
<body>
<h1>Universal JavaScript Support Added to Exceptionless.JavaScript</h1>

<img loading="lazy" class="aligncenter size-large wp-image-15833" src="https://exceptionless.com/assets/universal-javascript-1024x538.jpg" alt="Exceptionless Universal JavaScript" width="940" height="494" data-id="15833" srcset="https://exceptionless.com/assets/universal-javascript-1024x538.jpg 1024w, https://exceptionless.com/assets/universal-javascript-300x158.jpg 300w, https://exceptionless.com/assets/universal-javascript-768x403.jpg 768w, https://exceptionless.com/assets/universal-javascript.jpg 1200w" sizes="(max-width: 940px) 100vw, 940px" />
<p>Recently, we released <a href="https://exceptionless.com/javascript-client-v1-5-release-details-notes/">Exceptionless.JavaScript 1.5</a>. The major update for the release was the addition of universal JavaScript (React Universal) support! More details below. The key is that we can now run in server side node apps, or in the browser, with a single script and do the right thing!</p>
<blockquote>
<p>TL;DR: Isomorphism is the functional aspect of seamlessly switching between client- and server-side rendering without losing state. Universal is a term used to emphasize the fact that a particular piece of JavaScript code is able to run in multiple environments. – <a href="https://medium.com/@ghengeveld/isomorphism-vs-universal-javascript-4b47fb481beb">Gert Hengeveld, Isomorphism vs Universal JavaScript</a></p>
</blockquote>
<!--more-->
<p>We have gotten lots of requests for Universal JavaScript support. What this means is that you can use a library in the browser or server without any changes from the end user. This is great because you can just consume the library and just know it will work using the same API service no matter where you want to use it. The main con of using a universal client is the increased payload size as you know have to send node support to the browser as well.</p>
<p>We implemented universal JavaScript support by bundling both the browser and node scripts together. But it wasn’t as easy as concatenating the files together. We had to refactor the node and browser entry points so that they would automatically run, while ensuring that the initialization of environment specific code (storage, network, etc.) only ran when specific environment conditions were met. This is pretty easy to do with an <a href="https://en.wikipedia.org/wiki/Immediately-invoked_function_expression">IIFE function</a> and a quick if check as shown <a href="https://github.com/exceptionless/Exceptionless.JavaScript/blob/v1.5.4/src/exceptionless.ts#L14-L38">here</a>. Next, we needed to provide a <a href="https://github.com/exceptionless/Exceptionless.JavaScript/blob/v1.5.4/src/exceptionless.universal.ts">new entry point that imported both of the entry points</a> which ensures that browser and node entry points run.</p>
<p>This update adds support for universal apps, and a React Universal sample that shows the exact changes that were required to get everything working and setup can be found <a href="https://github.com/niemyjski/react-redux-universal-hot-example/commit/7f7c01ca1b328f3389c3919a53376bccbbfe1f08">here</a>. The pull request for universal support can be found <a href="https://github.com/exceptionless/Exceptionless.JavaScript/pull/75">here</a>.</p>
<p><strong>To target it</strong>, you just need to reference the universal script (exceptionless.universal.js), this will happen automatically if you install via browserfiy or webpack.</p>
<h2>Questions? Feedback?</h2>
<p>Let us know what you think about the new Universal JavaScript support over on <a href="https://github.com/exceptionless/Exceptionless.JavaScript/issues">GitHub</a>!</p>

</body>
</html>
