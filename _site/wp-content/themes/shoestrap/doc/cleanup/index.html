<h1>Clean up</h1>
<p>Clean up is handled by <code>lib/cleanup.php</code>. Major parts include:</p>
<h3>wp_head() clean up</h3>
<ol>
<li>Remove unnecessary <code>&lt;link&gt;</code>'s</li>
<li>Remove inline CSS used by Recent Comments widget</li>
<li>Remove inline CSS used by posts with galleries</li>
<li>Remove self-closing tag and change <code>'</code>'s to <code>&quot;</code>'s on <code>rel_canonical()</code></li>
</ol>
<h3>Add and remove body_class() classes</h3>
<ol>
<li>Add <code>top-navbar</code> class to <code>&lt;body&gt;</code> if using Bootstrap's navbar (enabled in <code>lib/config.php</code>). Used to add styling in <code>app.css</code> to account for the WordPress admin bar.</li>
<li>Add post/page slug class to <code>&lt;body&gt;</code></li>
<li>Remove <code>page-template-default</code> class</li>
</ol>
<h3>Root relative URLs</h3>
<p>Root relative URLs are enabled from <code>lib/config.php</code>.</p>
<p>Return URLs such as <code>/assets/css/app.css</code> instead of <code>http://example.com/assets/css/app.css</code>.</p>
<h3>Wrap embedded media as suggested by Readability</h3>
<p>The <a href="http://www.readability.com/developers/guidelines#publisher">Readability article publishing guidelines</a> suggest wrapping embedded media with a class of <code>entry-content-asset</code>.</p>
<h3>Use HTML5 figure and figcaption for images with captions</h3>
<p>Any images that contain captions will be returned with <code>&lt;figure&gt;</code> and <code>&lt;figcaption&gt;</code> elements. They also get a <code>caption</code> class for additional styling from Bootstrap.</p>
<h3>Clean up gallery_shortcode()</h3>
<p>The <code>[gallery]</code> shortcode has been re-created to use Bootstrap thumbnail styling.</p>
<h3>Remove unnecessary dashboard widgets</h3>
<ol>
<li>Remove Incoming Links</li>
<li>Remove Plugins</li>
<li>Remove WordPress Blog</li>
<li>Remove Other WordPress News</li>
</ol>
<h3>Clean up the_excerpt()</h3>
<p>The excerpt length is defined in <code>lib/config.php</code>. Excerpts are ended with anchor to the post and with &quot;… Continued&quot; instead of &quot;[…]&quot;.</p>
<h3>Cleaner walker for wp_nav_menu()</h3>
<p>Walker_Nav_Menu (WordPress default) example output:</p>
<pre><code> &lt;li id=&quot;menu-item-8&quot; class=&quot;menu-item menu-item-type-post_type menu-item-object-page menu-item-8&quot;&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
 &lt;li id=&quot;menu-item-9&quot; class=&quot;menu-item menu-item-type-post_type menu-item-object-page menu-item-9&quot;&gt;&lt;a href=&quot;/sample-page/&quot;&gt;Sample Page&lt;/a&gt;&lt;/l
</code></pre>
<p>Roots_Nav_Walker example output:</p>
<pre><code>&lt;li class=&quot;menu-home&quot;&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;menu-sample-page&quot;&gt;&lt;a href=&quot;/sample-page/&quot;&gt;Sample Page&lt;/a&gt;&lt;/li&gt;
</code></pre>
<p>If using the Bootstrap top navbar (enabled in <code>lib/config.php</code>), the proper markup is added to the items and the depth is restricted to 2 (Bootstrap doesn't support multi-level dropdowns).</p>
<p>Instead of the many different active class varities that WordPress usually uses, only <code>active</code> is returned on active items.</p>
<h3>Remove unnecessary self-closing tags</h3>
<p>Self-closing tags aren't necessary with HTML5. They're removed on:</p>
<ol>
<li><code>get_avatar()</code> (<code>&lt;img /&gt;</code>)</li>
<li><code>comment_id_fields()</code> (<code>&lt;input /&gt;</code>)</li>
<li><code>post_thumbnail_html()</code> (<code>&lt;img /&gt;</code>)</li>
</ol>
<h3>Don't return the default description in the RSS feed if it hasn't been changed</h3>
<p>If your site tagline is still <code>Just another WordPress site</code> then the description isn't returned in the feed.</p>
<h3>Allow more tags in TinyMCE</h3>
<p>Allow <code>&lt;iframe&gt;</code> and <code>&lt;script&gt;</code> to be used without issues.</p>
<h3>Add additional classes onto widgets</h3>
<p>Add <code>widget-first</code>, <code>widget-last</code>, and <code>widget-X</code> (X is the position) classes to widgets.</p>
<h3>Clean up search URLs</h3>
<p>Redirect <code>/?s=query</code> to <code>/search/query/</code>, convert <code>%20</code> to <code>+</code>.</p>
